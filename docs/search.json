[
  {
    "objectID": "dinamic.html",
    "href": "dinamic.html",
    "title": "Второе дыхание. Динамики",
    "section": "",
    "text": "Промежуточные наблюдения\n\nВ основном респонденты отмечают, что качество ненужной одежды, которую они сдавали или продавали за 2 года не изменилось. При этом респондентов, отметивших, что качество одежды, которую они сдают, стало лучше больше тех, кто стал сдавать менее качественные вещи (аналогично с продажей).\nРеспонденты стали заметно чаще носить вещи до полного износа или переделывать их.\nЕсли верить графикам, то респонденты в выборке за последние 2 года стали в подавляющем количестве чаще пользоваться контейнерами для обращения с ненужной одежды.\nРеспонденты стали чаще продавать вещи через интернет.\n\n\n\nУстановка библиотек, загрузка данных\n\n\nCode\n%%capture\n! pip install pyspssio\n\n\n\n\nCode\nimport numpy as np\nimport pandas as pd\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy import stats\nimport pyspssio\nimport re\n\nsns.set_palette(\"pastel\")\nsns.set_theme(style=\"whitegrid\", palette=\"pastel\", context=\"notebook\")\n\ndf, meta = pyspssio.read_sav(\"Data_frame_VD.sav\")\n\n\n\n\nУверенность в завтрашнем дне, надежды на будущее\n\n\nCode\nnames = [\n    'confident_about_future', \n    'changed_confident', \n    'changed_fin_sit', \n    'expectation'\n    ]\n\nfor name in names:\n    unique_labels = list(meta['var_value_labels'][name].values())\n    order = unique_labels\n    palette = sns.color_palette(\"pastel\", n_colors=len(unique_labels))\n    color_mapping = dict(zip(unique_labels, palette))\n    plt.figure(figsize=(8, 6))\n    sns.countplot(\n        x=df[name].map(meta['var_value_labels'][name]),\n        hue=df[name].map(meta['var_value_labels'][name]),\n        order=order,\n        palette=color_mapping\n    )\n    plt.ylabel('Число респондентов', fontsize=12)\n    plt.title(meta['var_labels'][name].replace(\" Выберите один вариант ответа.\", \"\"), fontsize=14, ha='center', wrap=True)\n    plt.xlabel('Варианты ответа', fontsize=12, wrap=True)\n    plt.xticks(fontsize=12, rotation=45, ha='right')\n    plt.yticks(fontsize=12)\n    plt.savefig(name, dpi=300, bbox_inches='tight')\n    plt.show()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nИзменения качества, количества ненужной одежды при продаже и передаче бесплатно за последние 2 года\n\n\nCode\nnames = [\n    'count_clothes_free',\n    'count_clothes_sale',\n    'quality_clothes_free',\n    'quality_count_clothes_sale'\n    ]\n\nfor name in names:\n    unique_labels = list(meta['var_value_labels'][name].values())\n    order = unique_labels\n    palette = sns.color_palette(\"pastel\", n_colors=len(unique_labels))\n    color_mapping = dict(zip(unique_labels, palette))\n    plt.figure(figsize=(8, 6))\n    sns.countplot(\n        x=df[name].map(meta['var_value_labels'][name]),\n        hue=df[name].map(meta['var_value_labels'][name]),\n        order=order,\n        palette=color_mapping\n    )\n    plt.ylabel('Число респондентов', fontsize=12)\n    plt.title(meta['var_labels'][name].replace(\" Выберите один вариант ответа.\", \"\"), fontsize=14, ha='center', wrap=True)\n    plt.xlabel('Варианты ответа', fontsize=12, wrap=True)\n    plt.xticks(fontsize=12, rotation=45, ha='right')\n    plt.yticks(fontsize=12)\n    plt.savefig(name, dpi=300, bbox_inches='tight')\n    plt.show()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nПочему по мнению людей могло ухудшиться качество сдаваемой одежды за последние 2 года\n\n\nCode\nquestions = {\n    'q2_1': 'Одежда в магазинах стала хуже',\n    'q2_2': 'Люди стали покупать более дешевую\\nодежду и хуже по качеству',\n    'q2_3': 'Люди стали чаще ремонтировать и\\nчинить одежду',\n    'q2_4': 'Люди стали дольше носить одежду',\n    'q2_5': 'Из-за неуверенности в завтрашнем дне\\nлюди стали менее охотно отдавать одежду',\n    'q2_6': 'Люди стали реже избавляться от одежды,\\nдонашивают ее дома или на даче',\n    'q2_7': 'Это проблема отдельных фондов.\\nНа мой взгляд, ситуация\\nв целом не изменилась',\n    'q2_8': 'Затрудняюсь ответить'\n}\n\nsums_df = df[['q2_1', 'q2_2', 'q2_3', 'q2_4', 'q2_5', 'q2_6', 'q2_7', 'q2_8']].sum().reset_index()\nsums_df.columns = ['quest', 'count_ans']\nsums_df['quest'] = sums_df['quest'].map(questions)\n\nplt.figure(figsize=(10, 6))\nsns.barplot(\n    x=sums_df['quest'],\n    y=sums_df['count_ans'],\n    hue=sums_df['quest']\n)\n\nplt.xticks(rotation=45, ha='right')\nplt.ylabel('Количество ответов', fontsize=12)\nplt.title('Учитывая опыт ваш и вашего окружения, как вы думаете, почему могло ухудшиться качество сдаваемой в фонды одежды за два года? (множественный выбор)', fontsize=14, ha='center', wrap=True)\nplt.xlabel('Варианты ответа', fontsize=12, wrap=True)\nplt.xticks(fontsize=12, rotation=45, ha='right')\nplt.yticks(fontsize=12)\nplt.savefig('changing_in_quality', dpi=300, bbox_inches='tight')\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nИзменения частот пользования способами обращения ненужной одеждой за последние 2 года\n\n\nCode\nfreqs_names = {    \n    'frequency1': 'Выбрасывать на помойку',\n    'frequency2': 'Оставлять у мусорного бака',\n    'frequency3': 'Оставлять дома, «до лучших времен»',\n    'frequency4': 'Использовать одежду до полного износа',\n    'frequency5': 'Выкладывать в подъезде, на добрые полки',\n    'frequency6': 'Переделывать, реставрировать для дальнейшего использования',\n    'frequency7': 'Отдавать членам семьи',\n    'frequency8': 'Отдавать друзьям, знакомым, соседям',\n    'frequency9': 'Бесплатно передавать через интернет-площадки, онлайн сообщества, чаты незнакомым людям',\n    'frequency10': 'Передавать в храм, пункты социальной помощи',\n    'frequency11': 'Передавать в благотворительный фонд, благотворительный магазин',\n    'frequency12': 'Класть в контейнер для сбора одежды',\n    'frequency13': 'Приносить одежду на СВОП (мероприятие для обмена одеждой)',\n    'frequency14': 'Участвовать в акциях для сбора одежды на благотворительность',\n    'frequency15': 'Продавать через интернет',\n    'frequency16': 'Сдавать на продажу в секонд-хенд магазин',\n    'frequency17': 'Сдавать на утилизацию в магазины, чтобы  получить скидку на новые товары'\n}\n\nunique_labels = list(meta['var_value_labels']['frequency1'].values())\n\npalette = sns.color_palette(\"pastel\", n_colors=len(unique_labels))\ncolor_mapping = dict(zip(unique_labels, palette))\n\nfreqs = [f'frequency{ii}' for ii in range(1, 17+1)]\nfor freq in freqs:\n    plt.figure(figsize=(8, 6))\n\n    order = unique_labels\n    sns.countplot(\n        x=df[freq].map(meta['var_value_labels']['frequency1']),\n        hue=df[freq].map(meta['var_value_labels']['frequency1']),\n        order=order,\n        palette=color_mapping\n    )\n    plt.ylabel('Число респондентов', fontsize=12)\n    plt.title('Как за последние 2 года изменилась частота, с которой вы пользуетесь способом обращения с ненужной вам одеждой?', fontsize=14, ha='center', wrap=True)\n    plt.xlabel(freqs_names[freq], fontsize=14, wrap=True)\n    plt.xticks(fontsize=12)\n    plt.yticks(fontsize=12)\n    plt.savefig(f'changed_{re.sub(r'\\D', '', freq)}', dpi=300, bbox_inches='tight')\n    plt.show()"
  }
]